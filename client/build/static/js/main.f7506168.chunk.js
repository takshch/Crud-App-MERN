(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{38:function(e,t,n){e.exports=n(52)},43:function(e,t,n){},45:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(7),i=n.n(s),c=(n(43),n(8)),o=n(5),l=n.n(o),u=n(10),p=n(23),d=n(24),m=n(11),h=n(36),g=n(34),f=(n(45),n(55)),b=n(56),x=n(57),v=n(58),k=n(9),y=n(27),N=n(25),C=n(26);function E(){var e=Object(c.a)(["\n  margin: 10px;\n  margin-top: 30px;\n"]);return E=function(){return e},e}function S(){var e=Object(c.a)(["\n  background: #2ec4b6;\n  background-color: #2ec4b6;\n  color: #fff;\n  font-size: 1.3  rem;\n  font-weight: 500;\n  height: 100%;\n  // padding-top: 20px;\n"]);return S=function(){return e},e}function w(){var e=Object(c.a)(['\n  margin: 30px auto;\n  padding: 10px;\n  border: none;\n  border-radius: 4px;\n  font-size: 1.05rem;\n  color: #fff;\n  box-shadow: 1px 1px 44px -12px rgba(255,255,255,0.6);\n  background: #ef476f;\n  \n  > input {\n    border: none;\n    background: inherit;\n    outline: none;\n    color: #fff;\n    padding-left: 10px;\n    margin: auto 5px;\n  }\n  > input::placeholder{\n    color: #fff;\n  }\n  > input:nth-child(1){\n    border-right: 2px solid #fdfffc;\n  }\n  > input[type="submit"]{\n    min-width: 80px;\n    border: none; \n    outline: none;\n    background: #fca311;\n    padding: 3px 0px;\n    background-color: #fca311;\n    border-radius: 4px;\n    box-shadow: 1px 1px 0px 1px rgba(0,0,0,0.05);\n    color:#fff;\n  }\n  >  input[type="submit"]:active{\n      box-shadow: 2px 2px 0px 1px rgba(0,0,0,0.05),-2px -2px 0px 1px rgba(0,0,0,0.05);\n      background: #ff9f1c;\n  }\n']);return w=function(){return e},e}function j(){var e=Object(c.a)(["\n  // background: #0566d;\n  background: #264653;\n  margin: 10px auto;\n  padding: 8px 10px;\n  font-size: 1rem;\n  border-radius: 4px;\n  display: flex;\n  > *{\n    flex: 1;\n    flex-shrink: 0;\n  }\n  > span:nth-of-type(1){\n    font-size: 1.13rem;\n    margin: auto;\n    margin-left: 10px;\n  }\n  > span:nth-of-type(1){\n    border-right: 2px solid #fff;\n  }\n  >span:nth-of-type(2){\n   flex: 0; \n  }\n  >span:nth-of-type(2):hover{\n    cursor: pointer;\n  }\n  >span:nth-of-type(2):active > svg{\n    color: #e63946;\n  }\n  > p{ \n    flex: auto;\n    margin: auto 5px;\n    margin-left: 10px; \n    border:none;\n    outline: none;\n    background: inherit;\n    background-color: inherit;\n    color: inherit;\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(c.a)(["\n   padding: 0px 15px; \n   padding-top: 30px;\n   height:  100%;\n   background: #f1faee;\n   backgrond-color: #f1faee;\n"]);return O=function(){return e},e}function P(){var e=Object(c.a)(["\n  padding: 5px 10px;\n  border-radius: 6px;\n  margin: 20px auto;\n  font-size: 1.05rem;\n  border: 1px solid #e5e5e5;\n  background: #edf2f4;\n  background-color: #edf2f4;\n  color: rgba(0,0,0,0.8);\n  :nth-of-type(1){\n    margin-top: 5px;\n  }\n"]);return P=function(){return e},e}var T=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={listData:[],tempListData:[],isListLoading:!0,errorMessage:"",message:"",messageClass:"",currentPrice:null,currentName:"",prevPrice:null},a.fetchList=a.fetchList.bind(Object(m.a)(a)),a.messageNull=a.messageNull.bind(Object(m.a)(a)),a}return Object(d.a)(n,[{key:"fetchList",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/items",e.next=4,fetch("/api/items");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,this.setState({listData:n},(function(){a.setState({isListLoading:!1})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.setState({errorMessage:"Unable to fetch data",isListLoading:!1});case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchList();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iconTouchClick",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=t.target.parentNode.parentNode.parentNode.getAttribute("data-id"))&&(n=t.target.parentNode.getAttribute("data-id")),a=JSON.stringify({id:parseInt(n)}),console.log(n),r={method:"POST",headers:{"Content-Type":"application/json"},body:a},e.prev=5,e.next=8,fetch("/api/delete",r);case 8:return s=e.sent,e.next=11,s.json();case 11:i=e.sent,console.log("data:",i),"deleted"===i.status&&null===i.error?this.setState({message:"Successfully deleted the item",messageClass:"success"}):i.error&&this.setState({message:i.error,messageClass:"dark"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0),this.setState({message:"Can't detete items",messageClass:"dark"});case 20:this.fetchList(),this.messageNull(1e4);case 22:case"end":return e.stop()}}),e,this,[[5,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addItem",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.parentNode.childNodes,a=n[0].value,r=n[1].value,console.log("name: ".concat(a,", price: ").concat(r)),""===a||""===r||isNaN(r)){e.next=26;break}return s=JSON.stringify({name:a,price:parseInt(r)}),i={method:"POST",headers:{"Content-Type":"application/json"},body:s},e.prev=7,e.next=10,fetch("/api/add",i);case 10:return c=e.sent,e.next=13,c.json();case 13:o=e.sent,console.log("data:",o),"success"===o.status&&null===o.error?this.setState({message:"Successfully deleted the item",messageClass:"success"}):o.error&&this.setState({message:o.error,messageClass:"dark"}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),console.log(e.t0),this.setState({message:"Can't add item",messageClass:"dark"});case 22:this.fetchList(),this.messageNull(1e4),e.next=27;break;case 26:""===a||""===r||isNaN(r)?this.setState({message:"name and price can't be empty or price must be number",messageClass:"dark"}):this.setState({message:"price",messageClass:"dark"});case 27:this.messageNull(1e4);case 28:case"end":return e.stop()}}),e,this,[[7,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({price:parseInt(t),id:parseInt(n)}),r={method:"POST",headers:{"Content-Type":"application/json"},body:a},e.prev=2,e.next=5,fetch("/api/update",r);case 5:return s=e.sent,e.next=8,s.json();case 8:i=e.sent,console.log("data:",i),"success"===i.status&&null===i.error?this.setState({message:"Successfully updated the item",messageClass:"success"}):i.error&&this.setState({message:i.error,messageClass:"dark"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),this.setState({message:"Can't update item",messageClass:"dark"});case 17:this.fetchList(),this.messageNull(1e4);case 19:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"messageNull",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;setTimeout((function(){e.setState({message:"",messageClass:""})}),parseInt(t))}},{key:"setCurrentName",value:function(e){this.setState({currentName:e.target.value})}},{key:"setCurrentPrice",value:function(e){console.log("e:",isNaN(e.target.value)),isNaN(e.target.value)?(this.setState({message:"Price must be number",messageClass:"dark"}),e.target.setAttribute("value",""),this.messageNull()):this.setState({currentPrice:parseInt(e.target.value)})}},{key:"parFocus",value:function(e){""===e.target.innerText||isNaN(e.target.innerText)||(this.setState({prevPrice:parseInt(e.target.innerText)}),console.log("focus:",e.target.innerText))}},{key:"parBlur",value:function(e){var t=e.target.parentNode.getAttribute("data-id"),n=e.target.innerText;console.log(n),""===n&&null!==this.state.prevPrice?(console.log("okay"),e.target.innerText=n,this.setState({prevPrice:null})):isNaN(n)||""===n||""===t||isNaN(t)||this.updateItem(parseInt(n),parseInt(t))}},{key:"parPriceChange",value:function(e){console.log("par");var t=e.target.innerText;""!==t&&isNaN(t)&&""!==this.state.prevPrice?(this.setState({message:"Price must be number",messageClass:"dark"}),e.target.innerText=this.state.prevPrice,this.messageNull()):this.setState({currentPrice:parseInt(t)})}},{key:"render",value:function(){var e,t=this;return console.log(this.state.listData),e=Array.isArray(this.state.listData)&&0!==this.state.listData.length?this.state.listData.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{typeName:null},r.a.createElement(A,{key:e.id,"data-id":e.id},r.a.createElement("span",null,e.name),r.a.createElement("p",{contentEditable:"true",onClick:t.parFocus.bind(t),onFocus:t.parFocus.bind(t),onBlur:t.parBlur.bind(t),onChange:t.parPriceChange.bind(t),onKeyPress:t.parPriceChange.bind(t)},e.price),r.a.createElement("span",{className:"btn",onTouch:t.iconTouchClick.bind(t),onClick:t.iconTouchClick.bind(t)},r.a.createElement(N.a,{icon:y.a,color:"#fcbf49"})))))})):r.a.createElement("h4",{className:"text-center"},"There is no data"),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{fluid:!0},r.a.createElement(b.a,{style:{"min-height":"100vh"}},r.a.createElement(x.a,{lg:"8",className:"p-0"},r.a.createElement(z,{className:"d-flex justify-content-center"},r.a.createElement(F,null,r.a.createElement("h4",{className:"text-center"},"CRUD APPLICATION"),r.a.createElement(D,null,r.a.createElement("input",{type:"text",placeholder:"Enter product name",onChange:this.setCurrentName.bind(this)}),r.a.createElement("input",{type:"text",placeholder:"Enter price",onChange:this.setCurrentPrice.bind(this)}),r.a.createElement("input",{type:"submit",value:"Add",onClick:this.addItem.bind(this)})),r.a.createElement("div",null,""!==this.state.message?r.a.createElement(v.a,{variant:this.state.messageClass},this.state.message):"",""!==this.state.errorMessage?r.a.createElement("h4",{className:"text-center"},this.state.errorMessage):"",this.state.isListLoading?r.a.createElement("h4",{className:"text-center"},"Loading...."):e,r.a.createElement("p",{style:{"font-size":"1.05rem"},className:"mt-4"},"Note: To update the price, click on price and change the value and  ",r.a.createElement("br",null),"then click on blue background."))))),r.a.createElement(x.a,{lg:"4",className:"p-0"},r.a.createElement(L,null,r.a.createElement("h4",null,"API ENDPOINTS:"),r.a.createElement(I,null,'"/items"  --  to get data of all items'),r.a.createElement(I,null,'"/add"    --  to add item with name and price'),r.a.createElement(I,null,'"/update" --  to edit price of exiting item with id'),r.a.createElement(I,null,'"/delete" -- to delete item with id'))))))}}]),n}(r.a.Component),I=k.a.div(P()),L=k.a.div(O()),A=k.a.div(j()),D=k.a.div(w()),z=k.a.div(S()),F=k.a.div(E());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.f7506168.chunk.js.map